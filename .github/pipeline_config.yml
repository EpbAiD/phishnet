# =============================================================================
# PHISHNET PIPELINE CONFIGURATION
# =============================================================================
# Control when each pipeline stage runs
# Valid frequencies: daily, weekly, manual
#
# VALIDATION MODE: Set all to 'daily' to test system
# PRODUCTION MODE: Set training/deployment to 'weekly' after validation
# =============================================================================

pipeline:
  name: "PhishNet ML Pipeline"
  mode: "validation"  # validation | production

stages:
  # STAGE 1: Data Collection
  data_collection:
    frequency: "daily"       # How often to collect URLs
    num_urls: 100            # URLs per collection (reduced for validation testing)
    enabled: true

  # STAGE 2: Feature Extraction (VM Processing)
  feature_extraction:
    frequency: "daily"       # Should match data_collection
    enabled: true

  # STAGE 3: Model Training
  model_training:
    frequency: "daily"       # CHANGE TO 'weekly' after validation complete
    enabled: true

  # STAGE 4: Model Deployment
  deployment:
    frequency: "daily"       # CHANGE TO 'weekly' after validation complete
    enabled: true

# Validation Settings
validation:
  runs_needed: 10            # Number of runs to validate system
  runs_completed: 4          # Track progress (auto-updated by workflow) - RESET for 100 URL test

# Schedule Settings (auto-generated from frequencies above)
schedules:
  daily: "0 14 * * *"        # 9 AM EST (14:00 UTC)
  weekly: "0 14 * * 0"       # Sunday 9 AM EST
  hourly: "0 * * * *"        # Top of every hour
