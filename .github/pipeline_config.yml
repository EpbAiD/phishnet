# =============================================================================
# PHISHNET PIPELINE CONFIGURATION
# =============================================================================
# Control when each pipeline stage runs
# Valid frequencies: daily, weekly, manual
#
# VALIDATION MODE: Set all to 'daily' to test system
# PRODUCTION MODE: Set training/deployment to 'weekly' after validation
# =============================================================================

pipeline:
  name: "PhishNet ML Pipeline"
  mode: "production"  # validation | production

stages:
  # STAGE 1: Data Collection
  data_collection:
    frequency: "twice_daily" # Every 12 hours for faster data growth
    num_urls: 1000           # URLs per collection - 50:50 balanced (phishing:legitimate)
    enabled: true

  # STAGE 2: Feature Extraction (VM Processing)
  feature_extraction:
    frequency: "daily"       # Should match data_collection
    enabled: true

  # STAGE 3: Model Training
  model_training:
    frequency: "weekly"      # Weekly to reduce costs, daily collection for data growth
    enabled: true

  # STAGE 4: Model Deployment
  deployment:
    frequency: "weekly"      # Weekly to match training frequency
    enabled: true

# Validation Settings
validation:
  runs_needed: 10            # Number of runs to validate system
  runs_completed: 12         # Track progress (auto-updated by workflow)
  status: "complete"         # Validation phase completed successfully

# Schedule Settings (auto-generated from frequencies above)
schedules:
  daily: "0 14 * * *"        # 9 AM EST (14:00 UTC)
  twice_daily: "0 2,14 * * *" # 9 AM and 9 PM EST (02:00 and 14:00 UTC)
  weekly: "0 14 * * 0"       # Sunday 9 AM EST
  hourly: "0 * * * *"        # Top of every hour
